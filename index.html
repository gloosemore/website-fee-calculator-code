<!DOCTYPE html>
<html>
<head>
    <title>Tax Pricing</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        .custom-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            transition: all 0.3s ease;
            height: 275px;            
            display: flex;
            flex-direction: column;
        }
        .custom-card-top-wrap {
            flex-shrink: 0; /* Prevent shrinking */
            padding: 1rem;
        }
        .custom-card-bot-wrap {
            flex-shrink: 0; /* Prevent shrinking */
            margin-top: auto; /* Push to bottom */
        }
        .custom-card:hover {
            border-color: #0d6efd;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        .price {
            color: #0d6efd;
            font-weight: 700;
        }
        .btn {
            transition: all 0.2s ease;
            border-width: 2px;
        }
        .btn-outline-primary {
            border-color: #0d6efd;
            color: #0d6efd;
        }
        .btn-outline-success {
            border-color: #198754;
            color: #198754;
        }
    </style>
</head>
<body>
    <h1>Pricing Calculator</h1>
    <h3>View our packages below, and choose those that apply to you and your partner.</h3>
    <p>Every package includes our <b><i>Core Tax Service</i></b> which covers most tax-related needs.</p>
    <p>Those that are also <b><i>Business Owners</i></b> or have <b><i>Rental Properties</i></b> can add support for those with a small additional charge.</p>

    <div id="pkgContainer" class="container"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>

    var mePkgType = "";
    var meBusAddOns = 0;
    var meRentAddOns = 0;
    var partPkgType = "";
    var partBusAddOns = 0;
    var partRentAddOns = 0;
    
    $(document).ready(function() {

        fillPackageGrid();

        // Handle "For Me" button clicks
        $('.pkgMeBut').click(function() {
            const buttonId = $(this).attr('id');            
            console.log("buttonId=", buttonId);
            const pkgType = buttonId.substring(8, 30);
            console.log("pkgType=", pkgType);
            mePkgType = pkgType;

            // switch (buttonId) {
            //     case "pkgMeBut" + "STANDARD":
            //         console.log("selected STANDARD")
            //         break;
            //     case "pkgMeBut" + "EMPLOYED ONLY":
            //         console.log("selected EMPLOYED ONLY")
            //         break;
            //     case "pkgMeBut" + "DISABLED":
            //         console.log("selected DISABLED")
            //         break;
            //     case "pkgMeBut" + "SENIORS":
            //         console.log("selected SENIORS")
            //         break;
            //     case "pkgMeBut" + "GIG ECONOMY":
            //         console.log("selected GIG ECONOMY")
            //         break;
            //     case "pkgMeBut" + "HOME DAY CARE":
            //         console.log("selected HOME DAY CARE")
            //         break;
            //     case "pkgMeBut" + "FULL-TIME STUDENTS":
            //         console.log("selected FULL-TIME STUDENTS")
            //         break;
                        
        });

        // Handle "Partner" button clicks
        $('.pkgPartBut').click(function() {
            const buttonId = $(this).attr('id');
            console.log("hello " + buttonId);
        });

    });

    const fillPackageGrid = function() {
        var html = "";
        const rowCount = 3;
        const colCount = 3;
        var row = 1;
        var col = 1;

        var pkgs = [
            {
                "name": "STANDARD",
                "desc": "<p><b><i>Core Tax Service</i></b> for most individuals</p>",
                "price": "$150"
            }, 
            {
                "name": "EMPLOYEE ONLY",
                "desc": "<p><b><i>Core Tax Service</i></b> for workers with only employment income<p>",
                "price": "$115"
            }, 
            {
                "name": "DISABILITY",
                "desc": "<p><b><i>Core Tax Service</i></b><sup>*</sup> for those with disability benefits<p>",
                "price": "$115"
            }, 
            {
                "name": "SENIORS",
                "desc": "<p><b><i>Core Tax Service</i></b><sup>*</sup> for those 65 or over</p>",
                "price": "$130"
            }, 
            {
                "name": "GIG ECONOMY",
                "desc": "<p><b><i>Core Tax Service</i></b><sup>*</sup> for gig workers</p><p>Includes <b><i>2 Business Add-Ons</i></b></p>",
                "price": "$175"
            }, 
            {
                "name": "HOME DAY CARE",
                "desc": "<p><b><i>Core Tax Service</i></b><sup>*</sup> for day care providers</p><p>Includes <b><i>1 Business Add-On</i></b></p>",
                "price": "$185"
            }, 
            {
                "name": "FULL-TIME STUDENTS",
                "desc": "<p><b><i>Core Tax Service</i></b><sup>*</sup> for students</p>",
                "price": "$85"
            }
        ]
        var currPkgNumb = 1;
        
        for (var row = 1; row <= rowCount; row++) {
            if (currPkgNumb > pkgs.length) break;
            
            html += "<div class='row gx-5'>"
            
            for (var col = 1; col <= colCount; col++) {
                if (currPkgNumb > pkgs.length) break;
                const currPkg = pkgs[currPkgNumb - 1];                

                html += "<div class='custom-card col-md-4 p-3'>";
                    html += "<div class='custom-card-top-wrap'>";
                        html += "<h3>" + currPkg["name"] + "</h3>";
                        html += currPkg["desc"];
                        html += "<h6 class='price'>" + currPkg["price"] + "</h6>";
                    html += "</div>";
                    html += "<div class='custom-card-bot-wrap'>";
                        html += "<div class='row g-2'>";
                            html += "<div class='col-6'>";
                                html += "<button id='pkgMeBut" + currPkg["name"] + "' class='pkgMeBut btn btn-outline-primary w-100'>For Me</button>";
                            html += "</div>";
                            html += "<div class='col-6'>";
                                html += "<button id='pkgPartBut" + currPkg["name"] + "' class='pkgPartBut btn btn-outline-primary w-100'>Partner</button>";
                            html += "</div>";
                        html += "</div>";
                    html += "</div>";
                html += "</div>";                                
                currPkgNumb += 1;
            }

            html += "</div>";            
        }
            
            
            
        html += "</div>";    
        $("#pkgContainer").html(html);
    }

    </script>
</body>
</html>
